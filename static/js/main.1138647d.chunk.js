(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e){e.exports=JSON.parse('{"applicationRoute":[{"path":"/dashboard","component":"","name":"Employee Basic Details"},{"path":"/primary_details","component":"","name":"Employee Primary Details"},{"path":"/contact_details","component":"","name":"Contact Details"},{"path":"/details_preview","component":"","name":"Details Preview"},{"redirect":true,"path":"/","to":"","name":"","component":""}]}')},102:function(e,t,a){e.exports=a(211)},107:function(e,t,a){},108:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(50),l=a.n(r),c=(a(107),a(35)),i=a(7),m=(a(108),a(67)),s=a.n(m),d=a(95),u=a(26),p=a(27),E=a(16),b=a(31),h=a(30),v=a(214),f=a(213),g=function(e){var t={};return e.firstName||(t.firstName="Required"),e.lastName||(t.lastName="Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.mobileNum?/^([6-9]\d{9})$/.test(e.mobileNum)||(t.mobileNum="Invalid mobile number, must be 10 digits[Starts with 6-9]"):t.mobileNum="Required",e.sex||(t.sex="Required"),e.age?(Number(e.age)<18||Number(e.age)>60)&&(t.age="Valid Age criteria is 18-60 years"):t.age="Required",e.acknowledgement||(t.acknowledgement="Please accept the declaration"),t},N=function(e){var t=e.input,a=e.label,n=e.type,r=e.meta,l=r.touched,c=r.error;return o.a.createElement("div",{className:"col-md-12 row text-center"},o.a.createElement("label",{className:"col-md-3 font-weight-bold"},a,":"),o.a.createElement("input",Object.assign({className:"col-md-6 mb-3"},t,{placeholder:a,type:n})),l&&c&&o.a.createElement("span",{className:"danger"},"*".concat(c)))},y=function(e){var t=e.meta,a=t.touched,n=t.error;return!(!a||!n)&&o.a.createElement("span",{className:"danger"},"*".concat(n))},w=Object(f.a)({form:"EmployeeBasicDetails",forceUnregisterOnUnmount:!0,destroyOnUnmount:!1,validate:g})((function(e){var t=e.handleSubmit;return o.a.createElement("div",{className:"container-fluid container-margin"},o.a.createElement("h4",null,"Employee Primary Details"),o.a.createElement("form",{onSubmit:t},o.a.createElement(v.a,{name:"firstName",type:"text",component:N,label:"First Name"}),o.a.createElement(v.a,{name:"lastName",type:"text",component:N,label:"Last Name"}),o.a.createElement(v.a,{name:"age",type:"number",component:N,label:"Age",placeHolder:"Enter Age"}),o.a.createElement("div",{className:"col-md-12 row"},o.a.createElement("label",{className:"col-md-3"},o.a.createElement("strong",null,"Gender:")),o.a.createElement("div",null,o.a.createElement("label",null,o.a.createElement(v.a,{name:"sex",component:"input",type:"radio",value:"male"})," ","Male"),o.a.createElement("label",null,o.a.createElement(v.a,{name:"sex",component:"input",type:"radio",value:"female"})," ","Female"),o.a.createElement(v.a,{name:"sex",component:y}))),o.a.createElement("div",null,o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("ul",{className:"form-group row float-sm-right"},o.a.createElement("li",{className:"next"},o.a.createElement("button",{type:"submit",disabled:!e.allowedAction,className:"btn btn-primary"},"Next")))))))})),O=Object(f.a)({form:"EmployeeBasicDetails",forceUnregisterOnUnmount:!0,destroyOnUnmount:!1,validate:g})((function(e){var t=e.handleSubmit,a=e.previousPage;return o.a.createElement("div",{className:"container container-margin"},o.a.createElement("h4",null,"Contact Details"),o.a.createElement("form",{onSubmit:t},o.a.createElement(v.a,{name:"email",type:"email",component:N,label:"Email"}),o.a.createElement(v.a,{name:"mobileNum",type:"text",component:N,label:"Mobile No",placeHolder:"Enter Mobile Number"}),o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("ul",{className:"form-group row float-sm-right"},o.a.createElement("li",{className:"previous"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:a},"Previous")),o.a.createElement("li",{className:"next"},o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Next/Preview"))))))})),D=a(216),j=(Object(D.a)("EmployeeBasicDetails"),function(e){var t=e.meta,a=t.touched,n=t.error;return!(!a||!n)&&o.a.createElement("span",{className:"danger"},"*".concat(n))}),P=Object(f.a)({form:"EmployeeBasicDetails",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0,validate:g})((function(e){e.onSubmit;var t=e.handleSubmit,a=e.previousPage;return o.a.createElement("div",{className:"container container-margin"},o.a.createElement("h4",null,"Preview Details"),o.a.createElement("form",{onSubmit:t},o.a.createElement("div",{className:"col-md-12 row"},o.a.createElement("label",{className:"col-md-3 font-weight-bold"},"First Name:"),o.a.createElement(v.a,{className:"col-md-9",disabled:!0,name:"firstName",component:"input"})),o.a.createElement("div",{className:"col-md-12 row"},o.a.createElement("label",{className:"col-md-3 font-weight-bold"},"Last Name:"),o.a.createElement(v.a,{className:"col-md-9",disabled:!0,name:"lastName",component:"input"})),o.a.createElement("div",{className:"col-md-12 row"},o.a.createElement("label",{className:"col-md-3 font-weight-bold"},"Age:"),o.a.createElement(v.a,{className:"col-md-9",disabled:!0,name:"age",component:"input"})),o.a.createElement("div",{className:"col-md-12 row"},o.a.createElement("label",{className:"col-md-3 font-weight-bold"},"Gender:"),o.a.createElement(v.a,{className:"col-md-9",disabled:!0,name:"sex",component:"input"})),o.a.createElement("div",{className:"col-md-12 row"},o.a.createElement("label",{className:"col-md-3 font-weight-bold"},"Email:"),o.a.createElement(v.a,{className:"col-md-9",disabled:!0,name:"email",component:"input"})),o.a.createElement("div",{className:"col-md-12 row"},o.a.createElement("label",{className:"col-md-3 font-weight-bold"},"Mobile No:"),o.a.createElement(v.a,{className:"col-md-9",disabled:!0,name:"mobileNum",component:"input"})),o.a.createElement("div",{className:"col-md-12 container-margin"},o.a.createElement("label",{htmlFor:"employed"},o.a.createElement(v.a,{name:"acknowledgement",id:"acknowledgement",component:"input",type:"checkbox"}),"\xa0",o.a.createElement("strong",null,"Acknowledgement:"),"\xa0\xa0Please confirm above entered details are correct."),o.a.createElement(v.a,{name:"acknowledgement",component:j})),o.a.createElement("div",{className:"col-sm-12"},o.a.createElement("ul",{className:"form-group row float-sm-right"},o.a.createElement("li",{className:"previous"},o.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:a},"Previous")),o.a.createElement("li",{className:"next"},o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit Details"))))))})),R=function(e){return{type:"LOADER_ACTION_TYPE",isLoading:e}},x=function(e,t){return function(a,n){return a(R(!0)),(o=e,fetch("https://jsonplaceholder.typicode.com/users/".concat(o),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json().then((function(t){return{status:e.status,data:t}}))})).catch((function(e){throw e}))).then((function(n){return 200===n.status?(a(R(!1)),a({type:"GET_EMP_DETAILS",empData:n.data,validEmp:!0,allowedAction:void 0!==t.find((function(t){return t.id==e}))}),Promise.resolve()):n.status>=400?(a(R(!1)),a({type:"ERROR_FETCH",empData:{},validEmp:!0,allowedAction:void 0!==t.find((function(t){return t.id==e}))}),Promise.reject()):void 0}),(function(n){return console.log(n,"error"),a({type:"ERROR_FETCH",empData:{},validEmp:!0,allowedAction:void 0!==t.find((function(t){return t.id==e}))}),Promise.reject()})).catch((function(e){throw e}));var o}},k=function(){return function(e,t){return e(R(!0)),fetch("https://jsonplaceholder.typicode.com/users",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json().then((function(t){return{status:e.status,data:t.splice(0,5)}}))})).catch((function(e){throw e})).then((function(t){return 200===t.status?(e(R(!1)),e({type:"USER_GROUP_TYPE",userGroupData:t.data,userInGroup:!0}),Promise.resolve()):t.status>=400?(e(R(!1)),e({type:"USER_GROUP_TYPE",userGroupData:{},userInGroup:!1}),Promise.reject()):void 0}),(function(t){return console.log(t,"error"),e({type:"USER_GROUP_TYPE",userGroupData:{},userInGroup:!1}),Promise.reject()})).catch((function(e){throw e}))}},S=a(20),A=a(98),C=a(217),G=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={show:!1},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.show&&this.setState({show:this.props.show})}},{key:"render",value:function(){return o.a.createElement("div",{hidden:!this.props.show},o.a.createElement(C.a,{style:{width:"3rem",height:"3rem",zIndex:"1000",position:"absolute",left:"47%",top:"35%"},color:"primary"}),o.a.createElement("div",{className:"custom-backdrop"}))}}]),a}(o.a.Component),U=function(e){return o.a.createElement("div",{className:"modal fade ".concat(e.showModal?"show":""),style:e.showModal?{display:"block"}:{display:"none"},id:"exampleModalCenter",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"Modal title"),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-body"},"Any Layout for adding user to group endpoint"),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),o.a.createElement("button",{type:"button",className:"btn btn-primary"},"Save changes")))))},I=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).enterEmpId=function(e){n.debouncedFn||(n.debouncedFn=Object(A.debounce)((function(){n.setState({empId:e.target.value});var t=e.target.value;n.validateEmpId(t)}),500)),n.debouncedFn()},n.nextPage=n.nextPage.bind(Object(E.a)(n)),n.previousPage=n.previousPage.bind(Object(E.a)(n)),n.showSubmittedDetails=n.showSubmittedDetails.bind(Object(E.a)(n)),n.validateEmpId=n.validateEmpId.bind(Object(E.a)(n)),n.addToUserGroup=n.addToUserGroup.bind(Object(E.a)(n)),n.state={pageNo:1,empId:"",isValidated:!1,showModal:!1},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.getUserGroupCreator()}},{key:"addToUserGroup",value:function(){var e=this;this.state.showModal||this.setState({showModal:!this.state.showModal},(function(){return o.a.createElement(U,{showModal:e.state.showModal})}))}},{key:"nextPage",value:function(){this.setState({pageNo:this.state.pageNo+1})}},{key:"previousPage",value:function(){this.setState({pageNo:this.state.pageNo-1})}},{key:"showSubmittedDetails",value:function(){console.log(this.props,"props")}},{key:"validateEmpId",value:function(){var e=Object(d.a)(s.a.mark((function e(t){var a=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=5;break}return e.next=3,Promise.allSettled([this.props.getEmpActionCreator(t,this.props.userGroupData)]).then((function(e){a.setState({isValidated:!0})}));case 3:e.next=6;break;case 5:this.setState({isValidated:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.pageNo,n=t.empId,r=t.isValidated;return o.a.createElement(o.a.Fragment,null,o.a.createElement(G,{show:this.props.isLoading}),o.a.createElement("div",{className:"container-fluid container-margin"},o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-body"},o.a.createElement("div",{className:"col-md-12 text-center"},o.a.createElement(v.a,{name:"empId",type:"text",component:N,label:"Employee ID",placeHolder:"Enter Employee Id",onChange:function(t){e.enterEmpId(t)}}),r&&o.a.createElement("span",null," ",this.props.validEmp?o.a.createElement("i",{className:"fa fa-check-circle col-md-3"},"\xa0Valid Employee"):o.a.createElement("i",{className:"fa fa-times-circle col-md-3"},"\xa0Sorry, InValid Employee ID entered!")),o.a.createElement("br",null),o.a.createElement("small",null,o.a.createElement("strong",null,"Tip:")," Employee ID in user group ranges from 1-5(Rest will have disabled Next)"),this.props.validEmp&&!this.props.allowedAction&&o.a.createElement("button",{class:"col-md-3 btn btn-primary",type:"button",onClick:this.addToUserGroup},"Add to User group")),this.addToUserGroup(),o.a.createElement("div",null,1===a&&""!==n&&this.props.validEmp&&o.a.createElement(w,{onSubmit:this.nextPage,allowedAction:this.props.allowedAction}),2===a&&o.a.createElement(O,{previousPage:this.previousPage,onSubmit:this.nextPage}),3===a&&o.a.createElement(P,{previousPage:this.previousPage,onSubmit:this.showSubmittedDetails}))))))}}]),a}(o.a.Component);I=Object(S.b)((function(e){return console.log(e.reducerReturn.empData,"state.reducerReturn.empData"),{empData:e.reducerReturn.empData,validEmp:e.reducerReturn.validEmp,isLoading:e.reducerReturn.isLoading,userGroupData:e.reducerReturn.userGroupData,allowedAction:e.reducerReturn.allowedAction}}),(function(e){return{getEmpActionCreator:function(t,a){return e(x(t,a))},getUserGroupCreator:function(){return e(k())}}}))(I);var T=Object(f.a)({form:"EmployeeBasicDetails",destroyOnUnmount:!1,forceUnregisterOnUnmount:!0,validate:g})(I),_=a(100),M=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={applicationRoute:_.applicationRoute},n.getComponents=n.getComponents.bind(Object(E.a)(n)),n}return Object(p.a)(a,[{key:"getComponents",value:function(){var e=this.state.applicationRoute;e.forEach((function(e){"Employee Basic Details"===e.name?e.component=T:"Employee Primary Details"===e.name?e.component=w:"Details Preview"===e.name?e.component=P:"Contact Details"===e.name?e.component=O:e.redirect&&(e.to="/dashboard")})),this.setState({applicationRoute:e})}},{key:"componentDidMount",value:function(){this.getComponents()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.d,null,this.state.applicationRoute.map((function(e,t){return e.redirect?o.a.createElement(i.a,{from:e.path,to:e.to,key:t}):o.a.createElement(i.b,{path:e.path,component:e.component,key:t})}))))}}]),a}(o.a.Component);var L=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark"},o.a.createElement("div",{className:"navbar-brand"},o.a.createElement("h4",null,"Employee Registration Form"))),o.a.createElement(c.a,null,o.a.createElement(i.d,null,o.a.createElement(i.b,{path:"/",name:"Home",component:M}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(6),B=a(17),H={empData:{}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_EMP_DETAILS":return Object(B.a)(Object(B.a)({},e),{},{empData:t.empData,validEmp:t.validEmp,allowedAction:t.allowedAction});case"ERROR_FETCH":return Object(B.a)(Object(B.a)({},e),{},{empData:t.empData,validEmp:t.validEmp});case"USER_GROUP_TYPE":return Object(B.a)(Object(B.a)({},e),{},{userGroupData:t.userGroupData,allowedAction:t.allowedAction});case"LOADER_ACTION_TYPE":return Object(B.a)(Object(B.a)({},e),{},{isLoading:t.isLoading});default:return e}},q=a(215),Y=Object(F.c)({form:q.a,reducerReturn:V}),J=a(101),Z=Object(F.d)(Y,Object(F.a)(J.a,(function(e){return function(t){return function(a){console.group(a.type),console.info("dispatching",a);var n=t(a);return console.log("next state",e.getState()),console.groupEnd(),n}}})));l.a.render(o.a.createElement(c.a,null,o.a.createElement(S.a,{store:Z},o.a.createElement(L,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[102,1,2]]]);
//# sourceMappingURL=main.1138647d.chunk.js.map